{"ast":null,"code":"var _jsxFileName = \"F:\\\\news aggregator\\\\News-API\\\\news-aggregator\\\\News-API\\\\frontend\\\\src\\\\components\\\\News.js\";\n// frontend/src/components/News.js\nimport React, { Component } from \"react\";\nimport NewsUpdate from \"./NewsUpdate\";\nimport Spinner from \"./Spinner\";\nimport PropTypes from \"prop-types\";\nimport { checkIfFakeNews } from \"../services/api\";\nimport \"./News.css\";\nimport \"./Search.css\"; // Import the new CSS file\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class News extends Component {\n  constructor() {\n    super();\n    this.nextClick = async () => {\n      this.setState({\n        page: this.state.page + 1\n      }, this.updateNews);\n    };\n    this.previousClick = async () => {\n      this.setState({\n        page: this.state.page - 1\n      }, this.updateNews);\n    };\n    this.handleSearchInput = event => {\n      this.setState({\n        searchTerm: event.target.value\n      });\n    };\n    this.filterArticles = () => {\n      const {\n        articles,\n        searchTerm\n      } = this.state;\n      return articles.filter(article => article.title.toLowerCase().includes(searchTerm.toLowerCase()));\n    };\n    this.state = {\n      articles: [],\n      loading: true,\n      page: 1,\n      totalResults: 0,\n      searchTerm: \"\" // Track search input\n    };\n  }\n  async detectFakeNews(articles) {\n    const updatedArticles = await Promise.all(articles.map(async article => {\n      const result = await checkIfFakeNews(article.description || \"\");\n      return {\n        ...article,\n        isFake: result.is_fake\n      };\n    }));\n    return updatedArticles;\n  }\n  async updateNews() {\n    this.setState({\n      loading: true\n    });\n    const {\n      category,\n      api_key\n    } = this.props;\n    const url = `https://newsapi.org/v2/top-headlines?&language=en&category=${category}&apiKey=${api_key}&page=${this.state.page}&pageSize=12`;\n    let data = await fetch(url);\n    let parsedData = await data.json();\n    const articlesWithFakeStatus = await this.detectFakeNews(parsedData.articles);\n    this.setState({\n      articles: articlesWithFakeStatus,\n      totalResults: parsedData.totalResults,\n      loading: false\n    });\n  }\n  async componentDidMount() {\n    this.updateNews();\n  }\n  render() {\n    const filteredArticles = this.filterArticles();\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container my-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-center\",\n        children: \"TOP HEADLINES\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), this.props.category === \"general\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-bar\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Search news...\",\n          value: this.state.searchTerm,\n          onChange: this.handleSearchInput,\n          className: \"search-input\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }, this), this.state.loading && /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 32\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: !this.state.loading && filteredArticles.map(element => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-4\",\n          children: /*#__PURE__*/_jsxDEV(NewsUpdate, {\n            title: element.title,\n            newsUrl: element.url,\n            description: element.description ? element.description.slice(0, 100) : \"\",\n            imgUrl: element.urlToImage,\n            source: element.source.name,\n            author: element.author,\n            isFake: element.isFake\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 17\n          }, this)\n        }, element.url, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container d-flex justify-content-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          disabled: this.state.page <= 1,\n          type: \"button\",\n          className: \"btn btn-dark\",\n          onClick: this.previousClick,\n          children: \"Previous\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n          children: [\"Total Results : \", this.state.totalResults]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          disabled: this.state.page + 1 > Math.ceil(this.state.totalResults / 12),\n          type: \"button\",\n          className: \"btn btn-dark\",\n          onClick: this.nextClick,\n          children: \"Next\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this);\n  }\n}\nNews.defaultProps = {\n  category: \"general\"\n};\nNews.propTypes = {\n  category: PropTypes.string\n};\nexport default News;","map":{"version":3,"names":["React","Component","NewsUpdate","Spinner","PropTypes","checkIfFakeNews","jsxDEV","_jsxDEV","News","constructor","nextClick","setState","page","state","updateNews","previousClick","handleSearchInput","event","searchTerm","target","value","filterArticles","articles","filter","article","title","toLowerCase","includes","loading","totalResults","detectFakeNews","updatedArticles","Promise","all","map","result","description","isFake","is_fake","category","api_key","props","url","data","fetch","parsedData","json","articlesWithFakeStatus","componentDidMount","render","filteredArticles","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","onChange","element","newsUrl","slice","imgUrl","urlToImage","source","name","author","disabled","onClick","Math","ceil","defaultProps","propTypes","string"],"sources":["F:/news aggregator/News-API/news-aggregator/News-API/frontend/src/components/News.js"],"sourcesContent":["// frontend/src/components/News.js\r\nimport React, { Component } from \"react\";\r\nimport NewsUpdate from \"./NewsUpdate\";\r\nimport Spinner from \"./Spinner\";\r\nimport PropTypes from \"prop-types\";\r\nimport { checkIfFakeNews } from \"../services/api\";\r\nimport \"./News.css\";\r\nimport \"./Search.css\"; // Import the new CSS file\r\n\r\nexport class News extends Component {\r\n  static defaultProps = {\r\n    category: \"general\",\r\n  };\r\n\r\n  static propTypes = {\r\n    category: PropTypes.string,\r\n  };\r\n\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      articles: [],\r\n      loading: true,\r\n      page: 1,\r\n      totalResults: 0,\r\n      searchTerm: \"\", // Track search input\r\n    };\r\n  }\r\n\r\n  async detectFakeNews(articles) {\r\n    const updatedArticles = await Promise.all(\r\n      articles.map(async (article) => {\r\n        const result = await checkIfFakeNews(article.description || \"\");\r\n        return { ...article, isFake: result.is_fake };\r\n      })\r\n    );\r\n    return updatedArticles;\r\n  }\r\n\r\n  async updateNews() {\r\n    this.setState({ loading: true });\r\n    const { category, api_key } = this.props;\r\n    const url = `https://newsapi.org/v2/top-headlines?&language=en&category=${category}&apiKey=${api_key}&page=${this.state.page}&pageSize=12`;\r\n\r\n    let data = await fetch(url);\r\n    let parsedData = await data.json();\r\n\r\n    const articlesWithFakeStatus = await this.detectFakeNews(parsedData.articles);\r\n\r\n    this.setState({\r\n      articles: articlesWithFakeStatus,\r\n      totalResults: parsedData.totalResults,\r\n      loading: false,\r\n    });\r\n  }\r\n\r\n  async componentDidMount() {\r\n    this.updateNews();\r\n  }\r\n\r\n  nextClick = async () => {\r\n    this.setState({ page: this.state.page + 1 }, this.updateNews);\r\n  };\r\n\r\n  previousClick = async () => {\r\n    this.setState({ page: this.state.page - 1 }, this.updateNews);\r\n  };\r\n\r\n  handleSearchInput = (event) => {\r\n    this.setState({ searchTerm: event.target.value });\r\n  };\r\n\r\n  filterArticles = () => {\r\n    const { articles, searchTerm } = this.state;\r\n    return articles.filter((article) =>\r\n      article.title.toLowerCase().includes(searchTerm.toLowerCase())\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const filteredArticles = this.filterArticles();\r\n\r\n    return (\r\n      <div className=\"container my-3\">\r\n        <h2 className=\"text-center\">TOP HEADLINES</h2>\r\n\r\n        {/* Show search bar only for \"general\" category */}\r\n        {this.props.category === \"general\" && (\r\n          <div className=\"search-bar\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Search news...\"\r\n              value={this.state.searchTerm}\r\n              onChange={this.handleSearchInput}\r\n              className=\"search-input\"\r\n            />\r\n          </div>\r\n        )}\r\n\r\n        {this.state.loading && <Spinner />}\r\n\r\n        <div className=\"row\">\r\n          {!this.state.loading &&\r\n            filteredArticles.map((element) => (\r\n              <div className=\"col-md-4\" key={element.url}>\r\n                <NewsUpdate\r\n                  title={element.title}\r\n                  newsUrl={element.url}\r\n                  description={\r\n                    element.description ? element.description.slice(0, 100) : \"\"\r\n                  }\r\n                  imgUrl={element.urlToImage}\r\n                  source={element.source.name}\r\n                  author={element.author}\r\n                  isFake={element.isFake}\r\n                />\r\n              </div>\r\n            ))}\r\n        </div>\r\n\r\n        <div className=\"container d-flex justify-content-between\">\r\n          <button\r\n            disabled={this.state.page <= 1}\r\n            type=\"button\"\r\n            className=\"btn btn-dark\"\r\n            onClick={this.previousClick}\r\n          >\r\n            Previous\r\n          </button>\r\n          <h5>Total Results : {this.state.totalResults}</h5>\r\n          <button\r\n            disabled={this.state.page + 1 > Math.ceil(this.state.totalResults / 12)}\r\n            type=\"button\"\r\n            className=\"btn btn-dark\"\r\n            onClick={this.nextClick}\r\n          >\r\n            Next\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default News;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}